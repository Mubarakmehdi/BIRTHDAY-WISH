<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thank You ğŸ’–</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body class="thankyou-page">
  <div class="container">
    <h1>ğŸ‰ Thank You So Much! ğŸ’</h1>
    <p>
      Your presence made the birthday truly special!<br>
      We hope you enjoyed exploring this little website made with love.
    </p>

    <!-- âœ… Feedback Form -->
    <form id="feedbackForm" action="https://formspree.io/f/mzzbqqdp" method="POST">
      <label for="feedback">ğŸ’¬ Share your thoughts:</label>
      <textarea
        name="feedback"
        id="feedback"
        placeholder="Write your feedback here..."
        required
      ></textarea>

      <!-- hidden email field -->
      <input type="hidden" name="_replyto" value="mubarakmehdi7@gmail.com" />

      <button type="submit" class="btn">Send Feedback</button>

      <!-- thank you message -->
      <p id="status-message" style="margin-top:10px; color:green; display:none;">
        âœ… Thank you for your feedback!
      </p>
    </form>

    <!-- Navigation Buttons -->
    <div class="nav-buttons">
      <a href="album.html" class="btn">â¬… Back to Album</a>
      <a href="index.html" class="btn">ğŸ  Home</a>
    </div>
  </div>

  <!-- Balloons and Music -->
  <div id="balloons-container"></div>
  <audio id="bg-music" src="happy.mp3" autoplay loop muted playsinline></audio>

  <script>
    // âœ… Enable background music when user interacts
    document.body.addEventListener(
      "click",
      () => {
        const music = document.getElementById("bg-music");
        music.muted = false;
        music.play();
      },
      { once: true }
    );

    // âœ… Send form without popup or redirect
    const form = document.getElementById("feedbackForm");
    const statusMessage = document.getElementById("status-message");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { Accept: "application/json" },
        });

        if (response.ok) {
          form.reset();
          statusMessage.style.display = "block";
          setTimeout(() => (statusMessage.style.display = "none"), 3000);
        } else {
          console.error("Form submission failed:", response.statusText);
        }
      } catch (error) {
        console.error("Error sending feedback:", error);
      }
    });
  </script>
</body>
</html>
